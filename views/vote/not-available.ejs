<%- contentFor('body') %>

<%#
  Voting Not Available Page
  Purpose: Inform users when voting is not currently allowed
  Version: 1.0.0
  Last Modified: July 31, 2025
%>

<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-lg-6">
      <div class="card shadow-lg border-0 text-center">
        <div class="card-body p-5">
          <div class="mb-4">
            <i class="fas fa-clock text-warning" style="font-size: 4rem;"></i>
          </div>

          <h2 class="text-warning mb-3">Voting Not Available</h2>

          <p class="lead mb-4">
            <%= message %>
          </p>

          <div class="alert alert-info text-start">
            <h6><i class="fas fa-info-circle me-2"></i>Election Details:</h6>
            <p class="mb-2"><strong>Election:</strong> <%= election.title %></p>
            <p class="mb-2"><strong>Status:</strong>
              <span class="badge bg-<%= election.status === 'active' ? 'success' : (election.status === 'pending' ? 'warning' : 'secondary') %>">
                <%= election.status.charAt(0).toUpperCase() + election.status.slice(1) %>
              </span>
            </p>
            <p class="mb-2"><strong>Election Period:</strong><br>
              <%= new Date(election.startDate).toLocaleString() %><br>
              to <%= new Date(election.endDate).toLocaleString() %>
            </p>

            <% if (election.publicAccess.votingTimeSlots && election.publicAccess.votingTimeSlots.length > 0) { %>
              <p class="mb-0"><strong>Voting Time Slots:</strong></p>
              <ul class="mb-0">
                <% election.publicAccess.votingTimeSlots.forEach(slot => { %>
                  <% if (slot.isActive) { %>
                    <li>
                      <%= new Date(slot.startTime).toLocaleString() %> -
                      <%= new Date(slot.endTime).toLocaleString() %>
                    </li>
                  <% } %>
                <% }) %>
              </ul>
            <% } %>
          </div>

          <div class="mt-4">
            <a href="/" class="btn btn-primary btn-lg">
              <i class="fas fa-home me-2"></i>Return to Home
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
